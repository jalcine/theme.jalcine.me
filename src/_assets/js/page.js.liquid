//= require webfontloader/webfontloader.js
// vim: set ft=javascript.liquid :

// Configure WebFontLoader.
// TODO: Move to make all of these fonts self-hosted.
var WebFontConfig = {
  custom: {
    families: [
      'beyno',
      'Open Sans',
      'Arvo',
      'Inconsolata'
    ],
    testStrings: {
      'beyno': 'jackyalcine',
      'Open Sans': 'jackyalcineè',
      'Arvo': 'jackyalcineè',
      'Inconsolata': 'opensource'
    },
    urls: ["{% asset fonts.css @path %}"]
  }
};

// Do some tweaks on images.
function stretchOutImages () {
  var images = document.querySelectorAll("img[x-bleed]");
  images.forEach(function stretchImage(image) {
    alert(image);
    var parentElement = image.parentElement;
    parentElement.style.maxWidth = "none";
  });
};

(function () {
  WebFont.load(WebFontConfig);
  stretchOutImages();
})(document);
