$main-section-url: url()
$index-accent: $header-accent

body.index
  section[role=main]
    section.region
      +flexbox
      max-width: $page-max-width
      margin: 0rem auto

      > aside.block
        +flex-direction('row')
        width: 100%

        $base-padding: $page-max-width * 0.050

        &.block-half:first-child
          // TODO Make content flow in the middle (vertical alignment)
          +flex-direction('column')
          +align-content('top')
          width: 35%
          padding: $base-padding ($base-padding * 0.5)

        &.block-half:last-child
          +flex-direction('column')
          +align-content('middle')
          width: 65%
          padding: ($base-padding * 0.5)

      &.region--main
        box-shadow: 0px 0px 5px darken($index-accent, 15%)
        padding: 0rem $header-height * 0.75
        max-width: inherit
        color: $white

        aside.block
          +justify-content('center')
          +align-items('center')

        background-color: $index-accent
        background-repeat: no-repeat
        background-position: center center
        background-size: cover

        p
          display: block
          margin: 0rem auto
          width: 70%
          text-align: justify

          @media (max-width: #{$tablet-screen})
            &
              width: 90%

          a
            font-weight: bold
            color: $gray

          &.lead
            text-align: center
            font-size: 3.25rem
            font-family: $header-font-family
            width: 95%
            margin: ($header-height / 3) auto

            @media (max-width: #{$tablet-screen})
              &
                font-size: 2.5rem

          &.lead ~ p
            font-size: 1.2rem

          &.link-roll
            margin-bottom: 1rem 
            text-align: center
            a
              text-align: center
              padding: 0rem 1rem
              line-height: 3rem

              @media (max-width: #{$mobile-screen})
                &
                  width: 80%
                  margin: 0rem auto
                  display: block

      &.region--about
        aside.block
          +flex
          +flex-direction('column')

          @media (max-width: #{$tablet-screen})
            &
              +flex-direction('row')

        aside.block:first-child
          +flex(1)
          +align-content('center')
          +justify-content('center')
          text-align: center

          img
            margin-top: -1rem
            margin-right: -2rem
            border-radius: 1rem
            border: 5px solid lighten($index-accent, 13%)
            width: 80%

            @media (max-width: #{$tablet-screen})
              &
                width: 100%
                clear: both
                display: block

        aside.block:last-child
          +flex(2)
          +align-content('center')
          +justify-content('center')

          dl
            text-align: left
            width: 100%

            dd
              font-size: 1.5rem

      &.region--photos
        height: 10rem

        a.image-region
          +flex(1)
          +flex-direction('column')
          transition: background-size 0.5s ease-out
          display: inline-block
          background-size: 85% auto
          background-repeat: no-repeat
          background-position: center center

          &:hover
            text-decoration: none
            background-size: 100% auto

          &.region--1
            background-image: url("https://farm3.staticflickr.com/2900/14419900815_034c7fe2f7_z.jpg")

          &.region--2
            background-image: url("https://farm6.staticflickr.com/5450/9412752276_ae8ec54acb_o.jpg")

          &.region--3
            background-image: url("https://farm6.staticflickr.com/5145/5651771300_64f6296d86_o.jpg")
        
        @media #{$mobile}
          &
            height: 12rem
            +flex-direction('row')
